(this.webpackJsonpchikusei=this.webpackJsonpchikusei||[]).push([[0],{85:function(e,t,n){},87:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(10),r=n.n(o),l=(n(85),n(55)),c=n.n(l),s=n(60),p=n(61),u=n(70),d=n(35),j=n(15),h=(n(87),n(137)),g=n(147),x=n(151),b=n(139),f=n(144),v=n(64),O=n.n(v),m=n(143),y=n(148),S=n(136),w=n(65),C=n.n(w),T=n(69),k=n.n(T),I=n(146),D=n(145),z=n(149),A=n(138),B=n(63),L=n.n(B),F=n(66),M=n.n(F),N=n(68),P=n.n(N),R=n(67),W=n.n(R),V=n(2),E={AppID:"jsMMYIdEZIViZGTdkKNs",ApiKey:"f98ae4abd5927e8d039b0a678e5ccc91773225473ba0e259b8c31c19b0fe5df7"},H="https://dev.loogia.tech/api/v0/projects",K=function(e){return H+"/"+e+"/solution"},J={method:"POST",headers:{"Content-Type":"application/json","X-Loogia-App-Id":E.AppID,"X-Loogia-API-Key":E.ApiKey},mode:"cors"},X={headers:{"Content-Type":"application/json","X-Loogia-App-Id":E.AppID,"X-Loogia-API-Key":E.ApiKey}},q={mode:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:{}},Z={name:"Tier4-\u7b51\u897f\u5e02",depot:{name:"\u30b9\u30bf\u30fc\u30c8\u5730\u70b9",geocode:{lat:36.32247,lng:139.99437}},carriers:[{id:"car1"}],spots:[],jobs:[]},G=(new Date).getMonth()+1;G<10&&(G="0"+G);var Q=(new Date).getDate();Q<10&&(Q="0"+Q);var Y=G+"\u6708"+Q+"\u65e5\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8",_=(new Map([["\u540d\u53e4\u5c4b\u99c5",{lat:35.171371,lng:136.88188}],["\u4f0f\u898b\u99c5",{lat:35.1694,lng:136.897077}],["\u6804\u99c5",{lat:35.169936,lng:136.909219}],["\u77e2\u5834\u753a\u99c5",{lat:35.163643,lng:136.909352}],["\u5927\u66fd\u6839\u99c5",{lat:35.19155,lng:136.93661}],["\u5343\u7a2e\u99c5",{lat:35.170035,lng:136.93033}],["\u9db4\u821e\u99c5",{lat:35.15638,lng:136.917269}],["\u91d1\u5c71\u99c5",{lat:35.142794,lng:136.900635}],["\u540d\u53e4\u5c4b\u5927\u5b66",{lat:35.154004,lng:136.967833}],["\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30f3\u30c9",{lat:35.165864,lng:136.89898}],["\u30c6\u30b9\u30c81",{lat:35.159324,lng:136.808888}],["\u30c6\u30b9\u30c82",{lat:35.210011,lng:136.853333}],["\u30c6\u30b9\u30c83",{lat:35.179923,lng:136.952222}],["\u30c6\u30b9\u30c84",{lat:35.183599,lng:136.923333}]]),new Map([["\u5e83\u58341",{geocode:{lat:36.32252318009725,lng:139.99366269618343},spotId:2151}],["\u5e83\u58342",{geocode:{lat:36.32210875352407,lng:139.9939489607223},spotId:3685}],["\u5e83\u58343",{geocode:{lat:36.32225523676537,lng:139.99426288485392},spotId:2299}],["\u30bb\u30b3\u30de",{geocode:{lat:36.322843,lng:139.994497},spotId:4159}],["\u7523\u76f4",{geocode:{lat:36.32297,lng:139.993604},spotId:2029}],["BBQ\u5834",{geocode:{lat:36.32234189423509,lng:139.9932988585709},spotId:2115}],["\u30c1\u30e7\u30b3",{geocode:{lat:36.322592,lng:139.994211},spotId:3963}],["SS\u30b4\u30fc\u30eb",{geocode:{lat:36.32241079770609,lng:139.99436800405215},spotId:3942}],["SS\u30b4\u30fc\u30ebB",{geocode:{lat:36.32241079770609,lng:139.99436800405215},spotId:3785}],["STC\u30b4\u30fc\u30eb",{geocode:{lat:36.32243574033299,lng:139.99434376738662},spotId:3808}]])),U=[],$=[],ee=1,te=[];function ne(){return Object(V.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(V.jsx)("img",{src:"https://jp.techcrunch.com/wp-content/uploads/2019/10/optimind_logo-e1572066384165.png?resize=2048,348",style:{width:"180px",height:"32px",position:"relative",top:"68px",marginTop:"-52px",marginRight:"25px"}})})}_.forEach((function(e,t){te.push({name:t,id:String(ee++),geocode:e.geocode}),U.push(t),$.push(e.spotId)}));var ie="'Roboto', sans-serif",ae="'Noto Sans JP', sans-serif";function oe(e){return Object(V.jsx)(D.a,Object(u.a)({elevation:6,variant:"filled"},e))}var re=Object(h.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function le(){var e=re(),t=a.a.useState(!1),n=Object(j.a)(t,2);n[0],n[1];return Object(V.jsx)("div",{className:e.root})}var ce="#01A0EB",se=8;function pe(e){var t=e.width,n=e.height,i=e.margin,a=e.elevation,o=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{width:t||"300px",height:n||e.spacing(8)}}}}))();return Object(V.jsx)("div",{className:o.root,style:{width:t||"300px",margin:i||"0 auto"},children:Object(V.jsx)(S.a,{elevation:a||5})})}function ue(){var e,t=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{width:"100%",height:e.spacing(8)}}}}))();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(le,{}),Object(V.jsxs)("div",{className:t.root,style:{display:"flex",alignItems:"center"},children:[(e=8,Object(V.jsx)(S.a,{square:!0,elevation:e})),Object(V.jsxs)("div",{style:{display:"flex",height:"40px",position:"absolute",fontSize:"25px",color:"#181A1F"},children:[Object(V.jsx)(L.a,{fontSize:"large",color:"primary",style:{margin:"3px 12px",marginRight:"3px",color:ce}}),Object(V.jsx)("div",{style:{color:"#181A1F",fontFamily:ae,letterSpacing:"1px",fontWeight:700,marginTop:"1px"},children:"\u914d\u9001\u4f9d\u983c\u5165\u529b\u30d5\u30a9\u30fc\u30e0"})]})]}),Object(V.jsx)("div",{})]})}var de=a.a.memo((function(e){var t=e.pickupSpot,n=e.deliverySpot,i=e.handleChangePickup,a=e.handleChangeDelivery,o=e.pickupServiceDuration,r=e.deliveryServiceDuration,l=e.handleChangePickupTime,c=e.handleChangeDeliveryTime,s={display:"flex",maxWidth:"830px",margin:"0 auto",position:"relative",top:"19px"},p={marginTop:"20px",color:"#757575"},u={fontFamily:ae,marginTop:"16px",position:"relative",right:"50px",minWidth:"50px"},d={position:"relative",top:"86px"},j={marginTop:"-30px"},h=function(e){return Object(V.jsxs)("div",{style:j,children:[Object(V.jsx)("div",{style:d,children:Object(V.jsx)(pe,{width:"1000px",height:"80px",elevation:"3"})}),Object(V.jsxs)("div",{style:s,children:[Object(V.jsxs)("div",{style:u,children:["\u6ce8\u6587",e+1]}),Object(V.jsx)(je,{value:t[e],setValue:function(t){return i(t,e)},label:"pickup"}),Object(V.jsx)(he,{value:o[e],setValue:function(t){return l(t,e)}}),Object(V.jsx)(O.a,{fontSize:"large",style:p}),Object(V.jsx)(je,{value:n[e],setValue:function(t){return a(t,e)},label:"delivery"}),Object(V.jsx)(he,{value:r[e],setValue:function(t){return c(t,e)}})]})]})};return Object(V.jsxs)("div",{style:{marginTop:"-50px"},children:[Object(V.jsxs)("div",{style:{position:"relative",width:"980px",margin:"0 auto",top:"50px",right:"40px",fontFamily:ie,fontSize:"30px"},children:[Object(V.jsx)(C.a,{fontSize:"large",style:{position:"relative",top:"9px",marginRight:"12px",color:"#01A0EB"}}),"jobs"]}),Object(V.jsx)(pe,{width:"1100px",height:"980px"}),Object(V.jsxs)("div",{style:{marginTop:"-970px"},children:[h(0),h(1),h(2),h(3),h(4),h(5),h(6),h(7)]})]})}));function je(e){var t=e.value,n=e.setValue,i=e.label,a=Object(h.a)((function(e){return{formControl:{marginRight:e.spacing(1),marginLeft:e.spacing(4),minWidth:120}}}))();return Object(V.jsx)("div",{children:Object(V.jsxs)(b.a,{className:a.formControl,children:[Object(V.jsx)(g.a,{id:"demo-simple-select-label",children:i}),Object(V.jsxs)(f.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,onChange:n,style:{width:"200px"},children:[Object(V.jsx)(x.a,{value:null,children:"-"}),U.map((function(e,t){return Object(V.jsx)(x.a,{value:t+1,children:Object(V.jsx)("b",{children:e})})}))]})]})})}function he(e){var t=e.value,n=e.setValue,i=Object(h.a)((function(e){return{formControl:{marginRight:e.spacing(4),marginLeft:e.spacing(0),minWidth:20}}}))();return Object(V.jsx)("div",{children:Object(V.jsxs)(b.a,{className:i.formControl,children:[Object(V.jsx)(g.a,{id:"demo-simple-select-label",children:"\u4f5c\u696d\u6642\u9593(\u5206)"}),Object(V.jsxs)(f.a,{value:t,onChange:n,style:{width:"114px"},children:[Object(V.jsx)(x.a,{value:null,children:"0 (default)"}),[1,2,3,4,5,6,7,8,9,10,15,20,30].map((function(e){return Object(V.jsx)(x.a,{value:e,children:e})}))]})]})})}function ge(e){for(var t=e.value,n=e.setValue,i=e.type,a=Object(h.a)((function(e){return{formControl:{marginRight:e.spacing(4),marginLeft:e.spacing(0),minWidth:20}}}))(),o=[],r=1;r<=23;r++)o.push(r);for(var l=[],c=0;c<=59;c++)l.push(c);return Object(V.jsx)("div",{children:Object(V.jsxs)(b.a,{className:a.formControl,children:[Object(V.jsx)(g.a,{id:"demo-simple-select-label"}),Object(V.jsxs)(f.a,{value:t,onChange:n,style:{width:"50px",fontSize:"20px"},children:["hours"===i&&Object(V.jsx)(x.a,{value:"00",children:"0"}),"hours"===i&&o.map((function(e){var t;return t=e<10?"0"+e:""+e,Object(V.jsx)(x.a,{style:{paddingTop:0,paddingBottom:0},value:t,children:t})})),"minutes"===i&&l.map((function(e){var t;return t=e<10?"0"+e:""+e,Object(V.jsx)(x.a,{style:{paddingTop:0,paddingBottom:0},value:t,children:t})}))]})]})})}function xe(e){e.text;var t=e.handleChangeText;Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"51ch"}}}}))();return Object(V.jsxs)("div",{style:{marginBottom:"10px"},children:[Object(V.jsx)(pe,{width:"1100px",height:"80px",margin:"40px auto 0",elevation:3}),Object(V.jsxs)("div",{style:{position:"relative",width:"980px",margin:"0 auto",top:"-80px",marginBottom:"-125px",right:"40px",fontFamily:ie,fontSize:"30px"},children:[Object(V.jsx)(M.a,{fontSize:"large",color:"primary",style:{position:"relative",top:"10px",marginRight:"10px",color:"#01A0EB"}}),"project name"]}),Object(V.jsx)("div",{style:{width:"400px",margin:"32px auto 0",fontSize:"30px"},children:Object(V.jsx)(y.a,{placeholder:Y,InputProps:{style:{fontSize:"20px",fontWeight:"bold"}},autoComplete:"off",onBlur:t,style:{width:"100%"},size:"medium",id:"standard-basic"})})]})}var be=a.a.memo((function(e){var t=e.startHour,n=e.handleChangeHour,i=e.startMinute,a=e.handleChangeMinute;return Object(V.jsxs)("div",{style:{position:"relative",top:"6px"},children:[Object(V.jsx)(pe,{width:"1100px",height:"80px",margin:"28px auto 0",elevation:3}),Object(V.jsxs)("div",{style:{position:"relative",width:"980px",margin:"0 auto -80px",top:"-80px",right:"40px",fontFamily:ie,fontSize:"30px"},children:[Object(V.jsx)(W.a,{fontSize:"large",color:"primary",style:{position:"relative",top:"10px",marginRight:"10px",color:"#01A0EB"}}),"start time",Object(V.jsxs)("div",{style:{width:"50px",margin:"-30px auto 0",display:"flex",position:"relative",top:"1px"},children:[Object(V.jsx)(ge,{value:t,setValue:n,type:"hours"}),Object(V.jsx)("span",{style:{marginTop:"14px",marginRight:"18px",marginLeft:"-15px"},children:":"}),Object(V.jsx)(ge,{value:i,setValue:a,type:"minutes"})]})]})]})})),fe=a.a.memo((function(e){var t=e.projectName,n=e.pickupSpot,o=e.deliverySpot,r=e.pickupServiceDuration,l=e.deliveryServiceDuration,u=e.startHour,h=e.startMinute,g=Object(i.useState)(!1),x=Object(j.a)(g,2),b=x[0],f=x[1],v=Object(i.useState)(!1),O=Object(j.a)(v,2),y=O[0],S=O[1],w=a.a.useState(!1),C=Object(j.a)(w,2),T=C[0],D=C[1],B=Object(i.useState)(!1),L=Object(j.a)(B,2),F=L[0],M=L[1],N=function(e){q.body=JSON.stringify({order:e}),fetch("/fms",q).then((function(e){return e.json()})).then((function(e){S(!1),M(!0),console.log("data = ",e)})).catch((function(e){S(!1),console.log("- error - ",e),window.alert("fms\u306epost\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}))},R={width:"1100px",display:"block",margin:"30px auto 0",padding:"10px",fontSize:"17px",fontWeight:"bold",color:ce,borderColor:ce},W=function(e,t){"clickaway"!==t&&f(!1)};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("div",{style:{marginTop:"160px",marginBottom:"60px"},children:[Object(V.jsxs)(m.a,{onClick:function(){D(!0);var e=String(u)+String(h);Z.name=t||"",Z.carriers[0].startTime="2021"+G+Q+"T"+e+"00+0900",Z.spots=[],Z.jobs=[];for(var i=new Set,a=0;a<se;a++)n[a]&&o[a]&&(i.add(n[a]-1),i.add(o[a]-1));var j,g=Object(p.a)(i);try{for(g.s();!(j=g.n()).done;){var x=j.value;Z.spots.push(te[x])}}catch(O){g.e(O)}finally{g.f()}for(var b=0;b<se;b++)n[b]&&o[b]&&Z.jobs.push({name:"\u6ce8\u6587"+(b+1)+" ("+U[n[b]-1]+"  \u2192  "+U[o[b]-1]+")",id:String(b+1),pickup:{spotId:String(n[b]),serviceDuration:r[b]?60*r[b]:null},delivery:{spotId:String(o[b]),serviceDuration:l[b]?60*l[b]:null}});function v(e,t){try{setTimeout(Object(s.a)(c.a.mark((function t(){var i,a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(K(e),X).then((function(e){return e.json()}));case 2:(i=t.sent).result?i.result.carrierRoutes[0]?(a=i.result.carrierRoutes[0].route,r=new Set,a.forEach((function(e){if("pickup"===e.serviceType){var t=n[+e.id-1],i=U[t-1];r.add(i)}if("delivery"===e.serviceType){var a=o[+e.id-1],l=U[a-1];r.add(l)}})),f(!1),S(!0),N(Object(d.a)(r)),console.log("Order = ",Object(d.a)(r))):(f(!1),S(!1),M(!1),window.alert("\u53d6\u5f97\u3067\u304d\u308bjob\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002")):v(e,2e3);case 4:case"end":return t.stop()}}),t)}))),t)}catch(i){console.log("error - ",i),window.alert("error - "+i)}}console.log("requestBody = ",Z),J.body=JSON.stringify(Z),fetch(H,J).then((function(e){return 500===e.status&&(D(!1),window.alert("\u30a8\u30e9\u30fc : error 500")),e.json()})).then((function(e){var t=[];if("error"!==e.status)return console.log("response = ",e),D(!1),f(!0),e.id;for(var n=0;n<e.detail.length;n++)console.log(e.detail[n].message),t.push(e.detail[n].message);D(!1),window.alert("\u30a8\u30e9\u30fc :\n"+t.join("\n"))})).then((function(e){return v(e,9e3)})).catch((function(e){D(!1),f(!1),S(!1),M(!1),console.log("error = ",e),window.alert("error :",e)}))},style:{width:"1100px",display:"block",margin:"30px auto",padding:"30px",fontSize:"18px",fontWeight:"bold"},variant:"contained",color:"primary",children:["\u914d\u9001\u4f9d\u983c\u3092\u78ba\u5b9a\u3059\u308b",Object(V.jsx)(P.a,{style:{marginLeft:"5px",position:"relative",top:"5px"}})]}),Object(V.jsxs)(m.a,{style:R,variant:"outlined",color:"primary",onClick:function(){return window.open("https://dev.loogia.tech/app/manager/projects")},children:[Object(V.jsx)("span",{style:{textTransform:"capitalize"},children:"Loogia"}),"\u3067\u8a08\u7b97\u7d50\u679c\u3092\u898b\u308b",Object(V.jsx)(k.a,{style:{marginLeft:"3px",position:"relative",top:"6px"}})]})]}),Object(V.jsx)(I.a,{open:b,onClose:W,style:{display:"flex",alignItems:"baseline"},children:Object(V.jsxs)(oe,{onClose:W,icon:!1,children:["Loogia\u3067\u8a08\u7b97\u4e2d...",Object(V.jsx)(A.a,{size:18,color:"inherit",style:{position:"relative",top:"3px",marginLeft:"6px"}})]})}),Object(V.jsx)(I.a,{open:y,onClose:function(){return S(!1)},children:Object(V.jsxs)(oe,{onClose:function(){return S(!1)},severity:"success",icon:!1,children:["\u8a08\u7b97\u5b8c\u4e86\u3002\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u767b\u9332\u3057\u3066\u3044\u307e\u3059...",Object(V.jsx)(A.a,{size:18,color:"inherit",style:{position:"relative",top:"3px",marginLeft:"6px"}})]})}),Object(V.jsx)(I.a,{open:F,autoHideDuration:3e3,onClose:function(){return M(!1)},children:Object(V.jsx)(oe,{onClose:function(){return M(!1)},severity:"success",children:"\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u306e\u767b\u9332\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002"})}),Object(V.jsx)(z.a,{style:{zIndex:10},open:T,children:Object(V.jsx)(A.a,{color:"inherit"})})]})})),ve=function(){var e=Object(i.useState)(new Array(se).fill(null,0)),t=Object(j.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(new Array(se).fill(null,0)),r=Object(j.a)(o,2),l=r[0],c=r[1],s=Object(i.useState)(new Array(se).fill(null,0)),p=Object(j.a)(s,2),u=p[0],h=p[1],g=Object(i.useState)(new Array(se).fill(null,0)),x=Object(j.a)(g,2),b=x[0],f=x[1],v=Object(i.useState)("09"),O=Object(j.a)(v,2),m=O[0],y=O[1],S=Object(i.useState)("00"),w=Object(j.a)(S,2),C=w[0],T=w[1],k=Object(i.useState)(Y),I=Object(j.a)(k,2),D=I[0],z=I[1],A=Object(i.useCallback)((function(e,t){n.splice(t,1,e.target.value),a(Object(d.a)(n))})),B=Object(i.useCallback)((function(e,t){l.splice(t,1,e.target.value),c(Object(d.a)(l))})),L=Object(i.useCallback)((function(e,t){u.splice(t,1,e.target.value),h(Object(d.a)(u))})),F=Object(i.useCallback)((function(e,t){b.splice(t,1,e.target.value),f(Object(d.a)(b))})),M=Object(i.useCallback)((function(e){z(e.target.value)})),N=Object(i.useCallback)((function(e){y(e.target.value)})),P=Object(i.useCallback)((function(e){T(e.target.value)}));return Object(V.jsxs)("div",{children:[Object(V.jsx)(ne,{}),Object(V.jsx)(ue,{}),Object(V.jsx)(xe,{text:D,handleChangeText:M}),Object(V.jsx)(be,{startHour:m,handleChangeHour:N,startMinute:C,handleChangeMinute:P}),Object(V.jsx)(de,{pickupSpot:n,deliverySpot:l,handleChangePickup:A,handleChangeDelivery:B,pickupServiceDuration:u,deliveryServiceDuration:b,handleChangePickupTime:L,handleChangeDeliveryTime:F}),Object(V.jsx)(fe,{startHour:m,startMinute:C,projectName:D,pickupSpot:n,deliverySpot:l,pickupServiceDuration:u,deliveryServiceDuration:b})]})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,152)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))};r.a.render(Object(V.jsx)(a.a.StrictMode,{children:Object(V.jsx)(ve,{})}),document.getElementById("root")),Oe()}},[[95,1,2]]]);
//# sourceMappingURL=main.0bc5a2fb.chunk.js.map